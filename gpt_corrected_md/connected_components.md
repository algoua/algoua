# Алгоритм пошуку компонент зв'язності в графі

Даний неорієнтований граф $G$ з $n$ вершинами та $m$ ребрами. Потрібно знайти всі його компоненти зв'язності, тобто розділити вершини графа на кілька груп так, що всередині однієї групи можна дійти від однієї вершини до будь-якої іншої, а між різними групами немає шляхів.

## Алгоритм розв'язання

Для розв'язання можна скористатися як [пошуком в глибину](dfs), так і [пошуком в ширину](bfs).

Фактично, ми будемо виробляти **серію обходів**: спочатку запустимо обхід з першої вершини, і всі вершини, які він при цьому обійшов - утворюють першу компоненту зв'язності. Потім знайдемо першу з залишилися вершин, які ще не були відвідані, і запустимо обхід з неї, знайшовши тим самим ще одну компоненту зв'язності. І так далі, поки всі вершини не стануть позначеними.

Підсумкова **асимптотика** становитиме $O(n + m)$: насправді, такий алгоритм не буде запускатися від однієї і тієї ж вершини двічі, тому кожне ребро буде переглянуто рівно два рази (з одного кінця і з іншого кінця).

## Реалізація

Для реалізації трошки зручнішим є обхід в глибину (DFS):

<!--- TODO: specify code snippet id -->
``` cpp
int n;
vector<int> g[MAXN];
bool used[MAXN];
vector<int> comp;

void dfs(int v) {
    used[v] = true;
    comp.push_back(v);
    for (size_t i = 0; i < g[v].size(); ++i) {
        int to = g[v][i];
        if (!used[to])
            dfs(to);
    }
}

void find_comps() {
    for (int i = 0; i < n; ++i)
        used[i] = false;
    for (int i = 0; i < n; ++i)
        if (!used[i]) {
            comp.clear();
            dfs(i);

            cout << "Component:";
            for (size_t j = 0; j < comp.size(); ++j)
                cout << ' ' << comp[j];
            cout << endl;
        }
}
```

Основна функція для виклику - $\rm знайди\_компоненти()$, вона знаходить та виводить компоненти зв'язності графа.

Ми припускаємо, що граф заданий списками суміжності, тобто $g[i]$ містить список вершин, до яких є ребра з вершини $i$. Константі $\rm MAXN$ потрібно задати значення, рівне максимально можливій кількості вершин у графі.

Вектор $\rm comp$ містить список вершин поточної компоненти зв'язності.