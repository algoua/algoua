# Задача RMQ (Range Minimum Query - мінімум на відрізку). Розв'язок за O (1) з препроцесингом O (N)

Дан масив A[1..N]. Надходять запити увазі (L, R), на кожний запит потрібно знайти мінімум в масиві A, починаючи з позиції L і закінчуючи позицією R. Масив A змінюватися в процесі роботи не можливо, тобто тут описано розв'язок статической задачі RMQ.

Тут описано асимтпотически оптимальне розв'язок. Воно декілька варто особняком від інших алгоритмів розв'язку RMQ, оскільки воно сильно відрізняється від них: воно зводить задачу RMQ до задачі LCA, а потім використовує [алгоритм Фарах-Колтона і Бендера](lca_linear), який зводить задачу LCA назад до RMQ (але вже частного увазі) і вирішує її.

## Алгоритм

Побудуємо по масиву A декартове дерево, де у кожної вершини ключом буде позиція i, а пріоритетом - саме число A[i] (передбачається, що в декартовом дереві пріоритети впорядковані від меншого в корені до великим). Таке дерево можна побудувати за O (N). Значить запит RMQ(l,r) еквівалентний запросу LCA(l\',r\'), де l\' - вершина, відповідна элементу A[l], r\' - відповідна A[r]. Дійсно, LCA знайде вершину, яка по ключу знаходиться між l\' і r\', тобто по позиції в масиві A буде між l і r, і при цим вершину, найбільш близкую до корені, тобто з найменшим пріоритетом, тобто найменшим значенням.

Завдання LCA ми можемо розв'язувати за O (1) з препроцесингом O (N) з допомогою [алгоритму Фарах-Колтона і Бендера](lca_linear), який, що цікаво, зводить задачу LCA назад до задачі RMQ, але вже частного увазі.
