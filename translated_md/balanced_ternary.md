# Трійкова збалансована система числення

Трійкова збалансована система числення - це нестандартная позиционная система числення. Основание системи рівне $3$, однак вона відрізняється від звичайної трійковій системи тим, що цифрами є $-1, 0, 1$. Оскільки використовувати $-1$ для однієї цифры дуже неудобно, то зазвичай приймають якесь специальное позначення. Условимся тут позначати мінус одиницю буквой $z$.

Наприклад, число $5$ в трійковій сбалансированной системі записується як $1zz$, а число $-5$ - як $z11$. Трійкова збалансована система числення дозваляє записувати негативні числа без записи окремого знака "мінус". Трійкова збалансована система дозваляє дробные числа (наприклад, $1/3$ записується як $0.1$).

## Алгоритм перекладу

Навчимося переводить числа в троичную сбалансированную систему.

Для цього треба спочатку перевести число в троичную систему.

Ясно, що тепер нам треба позбутися від цифр $2$, для чого зауважимо, що $2 = 3 - 1$, тобто ми можемо замінити двойку в поточному разряде на $-1$, при цим увеличив наступного (тобто ліворуч від нього в естественной записи) разряд на $1$. Якщо ми будемо рухатися по записи справа наліво і виконувати вышеописанную операцію (при цим в якихось разрядах можливо відбуватися переповнення більше $3$, в такому випадку, природно, "сбрасываем" зайві трійки в старший разряд), то прийдемо до трійковій сбалансированной записи. Як неважко переконатися, то ж саме правило вірно і для дробных чисел.

Більш изящно вышеописанную процедуру можна описати так. Ми беремо число в трійковій системі числення, додаємо до нього нескінченне число $\ldots 11111.11111 \ldots$, а потім від кожного разряда результату віднімаємо одиницю (вже безо всяких переносов).

Знаючи тепер алгоритм перекладу з звичайної трійковій системи в сбалансированную, легко можна реалізувати операції складання, вирахування і ділення - просто сводя їх до відповідним операциям над троичными несбалансированными числами.
