# Знаходження рангу матриці

**Ранг матриці** - це найбільше число линейно незалежних стрічок/стовпців матриці. Ранг визначений не тільки для квадратных матриць; нехай матриця прямоугольна і має розмір NxM.

Також ранг матриці можна визначити як найбільший з порядков миноров матриці, отличных від нуля.

Зауважимо, що якщо матриця квадратна і її визначник відмінний від нуля, то ранг рівний N(=M), інакше він буде менше. В загалом випадку, ранг матриці не перевершує min(N,M).

## Алгоритм

Шукати ранг можна з допомогою модифікованого [методу Гауса](linear_systems_gauss). Будемо виконувати абсолютно ті ж самі операції, що і при рішенні системи або знаходженні її визначника, але якщо на якому-або кроці в i-ом стовпці серед невыбранных до цього стрічок ні ненулевых, то ми цей крок пропускаємо, а ранг зменшуємо на одиницю (спершу ранг вважаємо рівним max(N,M)). Інакше, якщо ми знайшли на i-ом кроці стрічку з ненульовим елементом в i-ом стовпці, то помічаємо цю стрічку як выбранную, і виконуємо звичайні операції отнимания цій стрічки від інших.

## Реалізація

<!--- TODO: specify code snippet id -->
``` cpp
const double EPS = 1E-9;

int rank = max(n, m);
vector<char> line_used(n);
for (int i = 0; i < m; ++i) {
    int j;
    for (j = 0; j < n; ++j)
        if (!line_used[j] && abs(a[j][i]) > EPS)
            break;
    if (j == n)
        --rank;
    else {
        line_used[j] = true;
        for (int p = i + 1; p < m; ++p)
            a[j][p] /= a[j][i];
        for (int k = 0; k < n; ++k)
            if (k != j && abs(a[k][i]) > EPS)
                for (int p = i + 1; p < m; ++p)
                    a[k][p] -= a[j][p] * a[k][i];
    }
}
```
